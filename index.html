<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dansk passphrase generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body>
	<div class="px-4 py-5 my-5 text-center">
		<img class="d-block mx-auto mb-4" src="/docs/5.3/assets/brand/bootstrap-logo.svg" alt="" width="72" height="57">
		<h1 class="display-5 fw-bold" id="demo">-</h1>
		<div class="col-lg-6 mx-auto">
		  <p class="lead mb-4">Tekst kommer her</p>
		  <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
			<button type="button" class="btn btn-primary btn-lg px-4 gap-3">Generer</button>
			<button type="button" class="btn btn-outline-secondary btn-lg px-4">Kopier</button>
		  </div>
		</div>
	  </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script type="text/javascript">
	    
	let file = "./wordlist.txt"
	
	use_æøå = true
	var amount = 5

	function randomWord(array){
		word = array[Math.floor(Math.random() * wordArray.length)];	
		if(!use_æøå){
			const conditions = ["æ", "ø", "å"];
			const test = conditions.some(el => word.includes(el));
			if(test){word="TEST"}
		}

		return word
	}

	async function getText(file) {
		let x = await fetch(file);
		let y = await x.text();
		//document.getElementById("demo").innerHTML = y;
		
		wordArray = y.split('\n');
		console.log(wordArray.length);
		//const randomElement = wordArray[Math.floor(Math.random() * wordArray.length)];
		//console.log(randomElement);

		var result = randomWord(wordArray)

		for (let i = 1; i < amount; i++) {
			result += "-" + randomWord(wordArray)
		}

		document.getElementById("demo").innerHTML = result;
	 		
	}
	
	getText(file)
	    
    </script>
  </body>
</html>
